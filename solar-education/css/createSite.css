/* Create Site Modal - extracted from solar-farm-v2, prefixed with .cs- */
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');

#createSiteModal {
  position: fixed; inset: 0; z-index: 2000; display: none;
  background: linear-gradient(145deg, #0a0e1a 0%, #0d1220 40%, #0f1628 100%);
  font-family: 'DM Sans', sans-serif; overflow: hidden;
}
#createSiteModal.active { display: block; }

/* Wizard */
.cs-modal-inner {
  width: 100%; max-width: 880px; margin: 0 auto;
  max-height: calc(100vh - 40px); overflow-y: auto; padding: 0 24px 24px;
}
.cs-header { text-align: center; padding: 28px 0 16px; position: relative; }
.cs-logo { font-size: 22px; margin-bottom: 2px; }
.cs-title { font-size: 28px; font-weight: 700; color: #E84868; letter-spacing: .02em; }
.cs-subtitle { font-size: 13px; color: rgba(255,255,255,.4); margin-top: 6px; font-family: 'JetBrains Mono', monospace; }
.cs-close { position: absolute; right: 0; top: 28px; width: 36px; height: 36px; border-radius: 50%; border: 1px solid rgba(255,255,255,.12); background: transparent; color: rgba(255,255,255,.4); font-size: 18px; cursor: pointer; display: flex; align-items: center; justify-content: center; transition: all .2s; }
.cs-close:hover { border-color: rgba(255,255,255,.3); color: #fff; background: rgba(255,255,255,.06); }

/* Step tabs */
.cs-step-tabs { display: flex; justify-content: center; gap: 8px; margin: 20px 0 28px; flex-wrap: wrap; }
.cs-step-tab { display: flex; align-items: center; gap: 6px; padding: 7px 16px; border-radius: 20px; font-size: 12px; font-weight: 500; color: rgba(255,255,255,.3); background: rgba(255,255,255,.03); border: 1px solid rgba(255,255,255,.06); transition: all .3s; font-family: 'DM Sans', sans-serif; }
.cs-step-tab .cs-dot { width: 8px; height: 8px; border-radius: 50%; background: rgba(255,255,255,.12); transition: all .3s; }
.cs-step-tab.active { color: #fff; background: rgba(37,99,235,.2); border-color: rgba(37,99,235,.4); }
.cs-step-tab.active .cs-dot { background: #3b82f6; }
.cs-step-tab.done { color: rgba(255,255,255,.55); }
.cs-step-tab.done .cs-dot { background: #22c55e; }

/* Config cards */
.cs-cfg-section { margin-bottom: 22px; }
.cs-cfg-label { font-size: 13px; font-weight: 700; color: #E84868; text-transform: uppercase; letter-spacing: .06em; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; }
.cs-cfg-cards { display: grid; gap: 10px; }
.cs-cfg-cards.cols-2 { grid-template-columns: 1fr 1fr; }
.cs-cfg-cards.cols-3 { grid-template-columns: 1fr 1fr 1fr; }
.cs-cfg-card { background: rgba(255,255,255,.03); border: 1.5px solid rgba(255,255,255,.08); border-radius: 10px; padding: 14px 18px; cursor: pointer; transition: all .25s; user-select: none; }
.cs-cfg-card:hover:not(.cs-disabled) { background: rgba(255,255,255,.06); border-color: rgba(255,255,255,.16); }
.cs-cfg-card.cs-selected { background: rgba(37,99,235,.15); border-color: rgba(37,99,235,.45); box-shadow: 0 0 20px rgba(37,99,235,.08); }
.cs-cfg-card.cs-disabled { opacity: .18; cursor: not-allowed; pointer-events: none; }
.cs-cfg-card-title { font-size: 14px; font-weight: 600; color: rgba(255,255,255,.85); margin-bottom: 3px; }
.cs-cfg-card-sub { font-size: 11px; color: rgba(255,255,255,.3); font-family: 'JetBrains Mono', monospace; }

/* Footer */
.cs-footer { display: flex; align-items: center; justify-content: space-between; padding-top: 16px; border-top: 1px solid rgba(255,255,255,.05); margin-top: 6px; }
.cs-status { font-size: 13px; font-family: 'JetBrains Mono', monospace; color: rgba(255,255,255,.3); }
.cs-start-over { background: transparent; border: 1px solid rgba(255,255,255,.1); border-radius: 8px; padding: 8px 18px; color: rgba(255,255,255,.4); font-family: 'DM Sans', sans-serif; font-size: 12px; font-weight: 500; cursor: pointer; transition: all .2s; }
.cs-start-over:hover { border-color: rgba(255,255,255,.25); color: rgba(255,255,255,.7); }
.cs-build-btn { background: linear-gradient(135deg, #2563eb, #1d4ed8); color: #fff; border: none; border-radius: 8px; padding: 8px 22px; font-family: 'DM Sans', sans-serif; font-size: 13px; font-weight: 600; cursor: pointer; opacity: 0; transform: scale(.95); transition: all .3s; pointer-events: none; }
.cs-build-btn.visible { opacity: 1; transform: scale(1); pointer-events: auto; }
.cs-build-btn:hover { background: linear-gradient(135deg, #3b82f6, #2563eb); box-shadow: 0 2px 16px rgba(37,99,235,.35); }

/* 3D Scene Overlays */
.cs-ui { position: fixed; top: 0; left: 0; z-index: 2010; padding: 20px; pointer-events: none; opacity: 0; transition: opacity .8s; }
.cs-ui.visible { opacity: 1; }
.cs-ui h1 { font-size: 15px; font-weight: 700; color: #fff; letter-spacing: .08em; text-transform: uppercase; margin-bottom: 4px; text-shadow: 0 1px 8px rgba(0,0,0,.6); }
.cs-ui .sub { font-size: 11px; color: rgba(255,255,255,.5); font-family: 'JetBrains Mono', monospace; margin-bottom: 16px; text-shadow: 0 1px 4px rgba(0,0,0,.5); }

.cs-info { position: fixed; top: 20px; right: 20px; z-index: 2010; font-size: 10px; color: rgba(255,255,255,.3); font-family: 'JetBrains Mono', monospace; text-align: right; text-shadow: 0 1px 4px rgba(0,0,0,.5); opacity: 0; transition: opacity .8s; }
.cs-info.visible { opacity: 1; }

.cs-legend { position: fixed; top: 70px; right: 20px; z-index: 2010; background: rgba(8,8,12,.88); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,.08); border-radius: 10px; padding: 12px 14px; font-family: 'JetBrains Mono', monospace; min-width: 210px; display: none; }
.cs-legend.visible { display: block; }
.cs-legend h3 { font-size: 9px; font-weight: 600; color: rgba(255,255,255,.4); text-transform: uppercase; letter-spacing: .1em; margin-bottom: 8px; display: flex; align-items: center; justify-content: space-between; }
.cs-legend .leg-hide { background: none; border: 1px solid rgba(255,255,255,.12); color: rgba(255,255,255,.35); font-size: 9px; padding: 2px 6px; border-radius: 4px; cursor: pointer; font-family: inherit; letter-spacing: .05em; transition: all .2s; }
.cs-legend .leg-hide:hover { border-color: rgba(255,255,255,.3); color: rgba(255,255,255,.6); }

.cs-legend-toggle { position: fixed; top: 70px; right: 20px; z-index: 2010; background: rgba(8,8,12,.85); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,.1); border-radius: 8px; padding: 7px 14px; color: rgba(255,255,255,.5); font-family: 'DM Sans', sans-serif; font-size: 11px; cursor: pointer; transition: all .25s; display: none; }
.cs-legend-toggle.visible { display: block; }
.cs-legend-toggle:hover { border-color: rgba(255,255,255,.25); color: #fff; }

.cs-leg-item { display: flex; align-items: center; gap: 8px; margin-bottom: 5px; }
.cs-leg-item:last-child { margin-bottom: 0; }
.cs-leg-color { width: 24px; height: 6px; border-radius: 3px; flex-shrink: 0; }
.cs-leg-label { font-size: 10px; color: rgba(255,255,255,.6); line-height: 1.2; }
.cs-leg-arrow { font-size: 8px; color: rgba(255,255,255,.18); text-align: center; margin: 2px 0 2px 4px; }
.cs-leg-equip { font-size: 8px; color: rgba(255,255,255,.3); padding: 1px 6px; background: rgba(255,255,255,.03); border-radius: 3px; margin-left: 28px; margin-bottom: 4px; }

/* Edit config button */
.cs-edit-btn { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 2010; background: rgba(8,8,12,.85); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,.1); border-radius: 10px; padding: 10px 22px; color: rgba(255,255,255,.55); font-family: 'DM Sans', sans-serif; font-size: 12px; font-weight: 500; cursor: pointer; transition: all .25s; display: none; }
.cs-edit-btn.visible { display: block; }
.cs-edit-btn:hover { border-color: rgba(255,255,255,.25); color: #fff; background: rgba(8,8,12,.92); }

/* Navigation panel */
.cs-nav { position: fixed; left: 20px; top: 90px; z-index: 2010; background: rgba(8,8,12,.88); backdrop-filter: blur(12px); border: 1px solid rgba(255,255,255,.08); border-radius: 10px; padding: 0; font-family: 'DM Sans', sans-serif; min-width: 185px; max-width: 205px; max-height: calc(100vh - 140px); display: none; overflow: hidden; flex-direction: column; }
.cs-nav.visible { display: flex; }
.cs-nav h3 { font-size: 9px; font-weight: 600; color: rgba(255,255,255,.4); text-transform: uppercase; letter-spacing: .1em; margin: 0; padding: 10px 14px 6px; flex-shrink: 0; }
.cs-nav-list { overflow-y: auto; padding-bottom: 6px; scrollbar-width: thin; scrollbar-color: rgba(255,255,255,.1) transparent; }
.cs-nav-btn { display: flex; align-items: center; gap: 8px; width: 100%; padding: 7px 14px; border: none; background: transparent; color: rgba(255,255,255,.6); font-family: 'DM Sans', sans-serif; font-size: 11px; font-weight: 500; cursor: pointer; transition: all .2s; text-align: left; border-left: 2px solid transparent; }
.cs-nav-btn:hover { background: rgba(255,255,255,.06); color: #fff; border-left-color: rgba(37,99,235,.5); }
.cs-nav-btn.active { background: rgba(37,99,235,.12); color: #fff; border-left-color: #2563EB; }
.cs-nav-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }
.cs-nav-sep { height: 1px; background: rgba(255,255,255,.06); margin: 2px 14px; }

/* Loading */
.cs-loading { position: fixed; inset: 0; z-index: 2050; display: none; align-items: center; justify-content: center; background: #0a0e1a; color: #fff; flex-direction: column; gap: 12px; }
.cs-loading.active { display: flex; }
.cs-spinner { width: 32px; height: 32px; border: 2px solid rgba(255,255,255,.1); border-top-color: #3b82f6; border-radius: 50%; animation: cs-spin .8s linear infinite; }
@keyframes cs-spin { to { transform: rotate(360deg); } }
.cs-loading p { font-size: 12px; color: rgba(255,255,255,.4); font-family: 'JetBrains Mono', monospace; }

@media(max-width: 700px) {
  .cs-cfg-cards.cols-3 { grid-template-columns: 1fr 1fr; }
  .cs-title { font-size: 22px; }
}
