/* ============================================
   SITE BUILDER CSS
   Enhanced styling for solar panel site builder
   ============================================ */

/* ===== LOADING ANIMATIONS ===== */
      z-index: 10000;
      transition: opacity 0.6s ease, visibility 0.6s;
    }
    .loading.fade-out { opacity: 0; visibility: hidden; pointer-events: none; }

/* ===== PANEL STYLE SELECTOR TOOLTIP ===== */
    
    /* Panel Style Selector */
    .panel-style-tooltip {
      width: 260px;
    }
    .panel-style-options {
      display: flex;
      gap: 8px;
      margin: 12px 0;
    }
    .panel-style-option {
      flex: 1;
      background: rgba(30, 41, 59, 0.8);
      border: 2px solid #334155;
      border-radius: 10px;
      padding: 10px 6px;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    .panel-style-option:hover {
      border-color: #38bdf8;
      background: rgba(56, 189, 248, 0.1);
    }
    .panel-style-option.active {
      border-color: #ff1493;
      background: rgba(255, 20, 147, 0.15);
      box-shadow: 0 0 12px rgba(255, 20, 147, 0.3);
    }
    .panel-style-option .style-icon {
      font-size: 20px;
      color: #38bdf8;
      letter-spacing: 1px;
    }
    .panel-style-option.active .style-icon {
      color: #ff1493;
    }
    .panel-style-option .style-label {
      font-size: 13px;
      font-weight: 700;
      color: #fff;
    }
    .panel-style-option .style-desc {
      font-size: 9px;

/* ===== SITE BUILDER MODAL ===== */
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
    }

    /* ===== SITE BUILDER CONFIG PANEL ===== */
    .site-builder-modal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0, 10, 20, 0.95); z-index: 10000;
      justify-content: center; align-items: center; animation: fadeIn 0.3s ease;
    }
    .site-builder-modal.active { display: flex; }
    .sb-container {
      background: linear-gradient(145deg, #0f172a, #1e293b);
      border: 2px solid #38bdf8; border-radius: 20px;
      width: 94%; max-width: 860px; max-height: 90vh; overflow-y: auto;
      box-shadow: 0 25px 80px rgba(56,189,248,0.3), 0 0 100px rgba(255,20,147,0.1);
      position: relative;
    }
    .sb-container::-webkit-scrollbar { width: 6px; }
    .sb-container::-webkit-scrollbar-track { background: transparent; }
    .sb-container::-webkit-scrollbar-thumb { background: rgba(56,189,248,0.3); border-radius: 3px; }
    .sb-head {
      background: linear-gradient(135deg, #1e293b, #334155);
      padding: 22px 30px; border-bottom: 2px solid #38bdf8;
      border-radius: 18px 18px 0 0; text-align: center; position: relative;
    }
    .sb-head h2 { color: #ff1493; margin: 0 0 4px; font-size: 24px; font-weight: 700; }
    .sb-head p { color: #94a3b8; margin: 0; font-size: 13px; }
    .sb-x {
      position: absolute; top: 14px; right: 16px; width: 34px; height: 34px;
      background: rgba(239,68,68,0.15); border: 1px solid rgba(239,68,68,0.3);
      border-radius: 50%; color: #f87171; font-size: 18px; cursor: pointer;
      display: flex; align-items: center; justify-content: center; transition: all 0.2s;
    }
    .sb-x:hover { background: rgba(239,68,68,0.3); border-color: #ef4444; }
    .sb-body { padding: 18px 28px 12px; }
    .sb-section { margin-bottom: 16px; }
    .sb-section h3 {
      color: #38bdf8; font-size: 14px; font-weight: 700; margin: 0 0 8px;
      letter-spacing: 0.5px; text-transform: uppercase;
    }
    .sb-section h3::before { content: '▸ '; color: #ff1493; }
    .sb-opts { display: flex; flex-wrap: wrap; gap: 8px; }
    .sb-opt {
      background: linear-gradient(135deg, rgba(30,41,59,0.8), rgba(15,23,42,0.9));
      border: 1.5px solid rgba(148,163,184,0.15); border-radius: 12px;
      padding: 10px 16px; cursor: pointer; transition: all 0.2s;
      color: #cbd5e1; font-size: 13px; font-weight: 500;
      flex: 1; min-width: 180px; text-align: center;
    }
    .sb-opt:hover:not(.sb-disabled) {
      border-color: #38bdf8; background: linear-gradient(135deg, rgba(56,189,248,0.1), rgba(30,41,59,0.9));
      color: #f1f5f9; transform: translateY(-1px);
    }
    .sb-opt.sb-selected {
      border-color: #10b981; background: linear-gradient(135deg, rgba(16,185,129,0.15), rgba(5,150,105,0.1));
      color: #6ee7b7; box-shadow: 0 0 14px rgba(16,185,129,0.2);
    }
    .sb-opt.sb-selected::after { content: ' ✓'; color: #34d399; font-weight: 700; }
    .sb-opt.sb-disabled {
      opacity: 0.3; cursor: not-allowed; border-color: rgba(148,163,184,0.05);
      background: rgba(15,23,42,0.5); color: #475569;
    }
    .sb-opt-sub { font-size: 11px; color: #64748b; margin-top: 2px; }
    .sb-opt.sb-selected .sb-opt-sub { color: #94a3b8; }
    .sb-footer {
      display: flex; justify-content: space-between; align-items: center;
      padding: 14px 28px; border-top: 1px solid rgba(56,189,248,0.1);
      background: rgba(15,23,42,0.5);
      border-radius: 0 0 18px 18px;
    }
    .sb-footer-info { color: #94a3b8; font-size: 12px; }
    .sb-btn-reset {
      background: transparent; border: 1px solid rgba(148,163,184,0.2);
      color: #94a3b8; padding: 6px 14px; border-radius: 8px; cursor: pointer;
      font-size: 12px; transition: all 0.15s;
    }
    .sb-btn-reset:hover { border-color: #ff1493; color: #ff1493; }
    .sb-btn-view {
      background: linear-gradient(135deg,#10b981,#059669); color: #fff;
      border: 2px solid #34d399; padding: 12px 30px; border-radius: 14px;
      cursor: pointer; font-weight: 700; font-size: 15px;
      box-shadow: 0 6px 25px rgba(16,185,129,0.4); transition: all 0.2s;
      display: none;
    }
    .sb-btn-view.visible { display: inline-block; animation: fadeIn 0.3s ease; }
    .sb-btn-view:hover { transform: translateY(-2px); box-shadow: 0 8px 30px rgba(16,185,129,0.5); }


/* ===== SITE BUILDER FLOW BAR ===== */
    .sb-flow-bar {
      display: flex; align-items: center; justify-content: center; gap: 0;
      padding: 14px 28px; background: rgba(15,23,42,0.4);
      border-bottom: 1px solid rgba(56,189,248,0.08);
    }
    .sb-flow-node {
      display: flex; align-items: center; gap: 6px; padding: 6px 12px;
      border-radius: 8px; border: 1px solid rgba(56,189,248,0.08);
      background: rgba(15,23,42,0.5); transition: all 0.3s ease;
    }
    .sb-flow-node.filled { border-color: rgba(16,185,129,0.3); background: rgba(16,185,129,0.08); }
    .sb-flow-node.active-node { border-color: rgba(56,189,248,0.3); background: rgba(56,189,248,0.05); }
    .sb-flow-dot { width: 7px; height: 7px; border-radius: 50%; background: #334155; transition: all 0.3s; flex-shrink: 0; }
    .sb-flow-node.filled .sb-flow-dot { background: #10b981; box-shadow: 0 0 6px rgba(16,185,129,0.5); }
    .sb-flow-node.active-node .sb-flow-dot { background: #38bdf8; box-shadow: 0 0 6px rgba(56,189,248,0.5); }
    .sb-flow-label { font-size: 10px; font-weight: 600; color: #475569; transition: color 0.3s; white-space: nowrap; }
    .sb-flow-node.filled .sb-flow-label { color: #6ee7b7; }
    .sb-flow-node.active-node .sb-flow-label { color: #7dd3fc; }
    .sb-flow-val { font-size: 9px; color: #334155; max-width: 90px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; transition: color 0.3s; }
    .sb-flow-node.filled .sb-flow-val { color: #34d399; }
    .sb-flow-arrow { color: #1e293b; font-size: 10px; padding: 0 5px; transition: color 0.3s; flex-shrink: 0; }
    .sb-flow-arrow.lit { color: #10b981; }

/* ===== FULLSCREEN 3D SITE VIEWER UI ===== */
    .sv-topbar {
      position:fixed;top:0;left:0;right:0;height:54px;
      background:linear-gradient(135deg,rgba(15,23,42,0.95),rgba(30,41,59,0.95));
      backdrop-filter:blur(12px);border-bottom:1px solid rgba(56,189,248,0.25);
      display:flex;align-items:center;justify-content:space-between;padding:0 24px;z-index:20010;
    }
    .sv-topbar h1{font-size:17px;font-weight:700;background:linear-gradient(135deg,#ff1493,#38bdf8);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
    .sv-topbar .sv-badge{background:rgba(16,185,129,0.2);border:1px solid #10b981;color:#34d399;padding:4px 14px;border-radius:20px;font-size:12px;font-weight:600;}
    .sv-topbar .sv-close-btn{background:rgba(239,68,68,0.15);border:1px solid rgba(239,68,68,0.4);color:#f87171;padding:6px 16px;border-radius:10px;cursor:pointer;font-size:13px;font-weight:600;transition:all 0.15s;}
    .sv-topbar .sv-close-btn:hover{background:rgba(239,68,68,0.3);border-color:#ef4444;}
    .sv-ctrl-panel{position:fixed;top:68px;left:20px;background:rgba(10,18,30,0.92);backdrop-filter:blur(12px);border:1px solid rgba(56,189,248,0.15);border-radius:12px;padding:10px 14px;z-index:20010;display:flex;flex-direction:column;gap:6px;}
    .sv-ctrl-btn{background:rgba(56,189,248,0.1);border:1px solid rgba(56,189,248,0.25);color:#94a3b8;padding:7px 14px;border-radius:8px;cursor:pointer;font-size:11px;font-weight:600;transition:all 0.15s;}
    .sv-ctrl-btn:hover{background:rgba(56,189,248,0.2);color:#e2e8f0;border-color:#38bdf8;}
    .sv-ctrl-btn.active{background:rgba(16,185,129,0.2);border-color:#10b981;color:#34d399;}
    .sv-cfg-panel{position:fixed;bottom:20px;left:20px;background:rgba(10,18,30,0.92);backdrop-filter:blur(14px);border:1px solid rgba(56,189,248,0.2);border-radius:16px;padding:18px 22px;z-index:20010;max-width:340px;}
    .sv-cfg-panel .sv-cfg-title{font-size:13px;font-weight:700;color:#ff1493;margin-bottom:10px;letter-spacing:0.5px;}
    .sv-cfg-row{display:flex;justify-content:space-between;padding:5px 0;border-bottom:1px solid rgba(255,255,255,0.05);font-size:12px;}
    .sv-cfg-row:last-child{border:none;}
    .sv-cfg-label{color:#64748b;font-weight:600;}
    .sv-cfg-val{color:#e2e8f0;font-weight:500;text-align:right;}
    .sv-legend{position:fixed;bottom:20px;right:20px;background:rgba(10,18,30,0.88);backdrop-filter:blur(12px);border:1px solid rgba(56,189,248,0.15);border-radius:12px;padding:12px 16px;z-index:20010;display:flex;gap:16px;}
    .sv-leg-item{display:flex;align-items:center;gap:6px;font-size:11px;color:#94a3b8;}
    .sv-leg-dot{width:10px;height:10px;border-radius:50%;}
    .sv-hint{position:fixed;top:68px;right:20px;background:rgba(10,18,30,0.8);padding:6px 14px;border-radius:20px;font-size:11px;color:#64748b;z-index:20010;pointer-events:none;transition:opacity 1s;}
